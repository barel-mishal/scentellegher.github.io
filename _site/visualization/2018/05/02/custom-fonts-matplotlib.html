<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Add custom fonts to Matplotlib - Simone Centellegher, PhD - Data scientist and Researcher</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="Simone Centellegher, PhD - Data scientist and Researcher" property="og:site_name">
  
    <meta content="Add custom fonts to Matplotlib" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="Data Scientist and Researcher @ Fondazione Bruno Kessler (Italy)
" property="og:description">
  
  
    <meta content="http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html" property="og:url">
  
  
    <meta content="2018-05-02T02:00:00+02:00" property="article:published_time">
    <meta content="http://localhost:4000/about/" property="article:author">
  
  
    <meta content="http://localhost:4000/assets/img/avatar.jpg" property="og:image">
  
  
    
    <meta content="visualization" property="article:section">
    
  
  
    
    <meta content="custom fonts" property="article:tag">
    
    <meta content="matplotlib" property="article:tag">
    
    <meta content="visualization" property="article:tag">
    
  

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@simonecent">
  
    <meta name="twitter:title" content="Add custom fonts to Matplotlib">
  
  
    <meta name="twitter:url" content="http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html">
  
  
    <meta name="twitter:description" content="Data Scientist and Researcher @ Fondazione Bruno Kessler (Italy)
">
  
  
    <meta name="twitter:image:src" content="http://localhost:4000/assets/img/avatar.jpg">
  

	<meta name="description" content="">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-touch-icon-144x144.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
  <!-- MathJax -->
  <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <!-- Cookie banner -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
  <!-- AdSense -->
  <script data-ad-client="ca-pub-2550557957905145" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/images/avatar.jpg" alt="Simone Centellegher"></a>
      </div>
      <div class="author-name">Simone Centellegher</div>
      <p>Data scientist and Researcher in the Mobile and Social Computing Lab @ Fondazione Bruno Kessler (Trento, Italy).  I study human behaviour from data generated by mobile phones, social media and credit card transactions.</p>
    </div>
  </header> <!-- End Header -->
  <!-- <div class="navigation">
    <ul>
      
        <li><a style='font-weight: 300;' href="/categories/research">research</a></li>
      
        <li><a style='font-weight: 300;' href="/categories/programming">programming</a></li>
      
        <li><a style='font-weight: 300;' href="/categories/visualization">visualization</a></li>
      
        <li><a style='font-weight: 300;' href="/categories/machine-learning">machine-learning</a></li>
      
    </ul>
  </div>  -->

  <!-- <div class="ads-sidebar">

  <div class="ads-wrapper">
    <div class="ads-content">
    </div>
   
  </div>

</div> -->

  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        
          <li><a id='twitter' href="https://twitter.com/simonecent" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
        
        <!-- 
          <li><a href="https://facebook.com/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
         -->
        
          <li class="github"><a id='github' href="http://github.com/scentellegher" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
          <li class="linkedin"><a id='linkedin' href="https://in.linkedin.com/in/scentellegher" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        
        <!-- 
          <li class="email"><a href="mailto:example.david@blog.com"><i class="fa fa-envelope-o" aria-hidden="true"></i></a></li>
         -->
        <li><a id='cv' href="/assets/cv/simone_centellegher_cv.pdf" target="_blank"><i class="fa fa-file-text-o"></i></a></li>
        <li class="scholar"><a id='scholar' href="https://scholar.google.it/citations?user=-W9l1PFnP6gC&hl=en" target="_blank"><i class="fa fa-google"></i></a></li>
      </ul>
    </section> <!-- End Section Contact -->
    <div class="copyright">
      <p>2020 &copy; Simone Centellegher</p>
    </div>
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->
<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content">
    
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">Add custom fonts to Matplotlib</h1>
        <div class="page-date"><span>2018, May 02&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
        <div class="share-page">
    Share this on &rarr;
    <a href="https://twitter.com/intent/tweet?text=Add custom fonts to Matplotlib&url=http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html&via=&related=" rel="nofollow" target="_blank" title="Share on Twitter" style="color:  #1DA1F2;">
    	<i class="fa fa-twitter fa-lg"></i>
    </a>
    <a href="https://www.facebook.com/sharer.php?u=http://localhost:4000//visualization/2018/05/02/custom-fonts-matplotlib.html&title=Add custom fonts to Matplotlib" rel="nofollow" target="_blank" title="Share on Facebook" style='color: #4867AA;'>
    	<i class="fa fa-facebook fa-lg"></i>
    </a>
    <!-- <a href="https://plus.google.com/share?url=http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html" rel="nofollow" target="_blank" title="Share on Google+" style='color: #DD4B39;'>
    	<i class="fa fa-google-plus fa-lg"></i>
    </a> -->
    <a href="http://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html&title=Add custom fonts to Matplotlib" target="_blank" title="Share on LinkedIn" style='color: #0177B5;'>
    	<i class="fa fa-linkedin fa-lg"></i>
    </a>
    <a href="http://www.reddit.com/submit?url=http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html&title=Add custom fonts to Matplotlib" rel="nofollow" target="_blank" title="Share on Reddit" style='color: #FF4500;'>
    	<i class="fa fa-reddit fa-lg"></i>
    </a>
</div>



      </header>
      <hr style='border: 1px solid #fff;  border-top: 1px solid #EBEBEB;  border-bottom: 1px solid #fff;'/>
      <p>This is step by step guide to add a custom font to Matplotlib. I have tested this procedure on both Linux and OS X machines.
Suppose you are running a Jupyter notebook and you want to change the font of a plot. Here is what you need to do!</p>

<ol>
  <li>First, we need to install our custom font. Keep in mind that Matplotlib expects a font in <em>True Type</em> format (<strong>.ttf</strong>). For example, if we want to add the Helvetica font, we need to check if we have the font in .ttf format installed on our system otherwise we need to download it and install it.</li>
  <li>Next, we need to update the font cache from the command line with the following command:
    <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sudo</span> <span class="n">fc</span><span class="o">-</span><span class="n">cache</span> <span class="o">-</span><span class="n">fv</span>
</code></pre></div>    </div>
  </li>
  <li>Clear the matplotlib font cache:
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rm</span> <span class="o">-</span><span class="n">fr</span> <span class="o">~/.</span><span class="n">cache</span><span class="o">/</span><span class="n">matplotlib</span>
</code></pre></div>    </div>
  </li>
  <li>Restart your Jupyter notebook server</li>
</ol>

<p>That’s it! Now we need to instruct Matplotlib to use our custom font. Suppose that we want to plot a bar chart and change the labels and ticks font. In this case, just for visual purposes, we will use the Comic Sans font.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s">'perc'</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">45</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s">'A'</span><span class="p">,</span> <span class="s">'B'</span><span class="p">,</span> <span class="s">'C'</span><span class="p">,</span><span class="s">'D'</span><span class="p">,</span><span class="s">'E'</span><span class="p">,</span><span class="s">'F'</span><span class="p">])})</span>

<span class="c1"># specify the custom font to use
</span><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'font.family'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'sans-serif'</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s">'font.sans-serif'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'Comic Sans MS'</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'barh'</span><span class="p">,</span> <span class="n">legend</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Percentage'</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Type'</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</code></pre></div></div>

<p>Now, let’s try to plot it and see the actual result!</p>

<div class="image-wrapper">
    
        <img src="/assets/images/post/2018_05_02_changed_font.png" width="550" height="auto" alt="" />
    
    
        <p class="image-caption">Fig 1. Font changed!</p>
    
</div>

<p>In case something went wrong and you receive an error like this</p>

<p><strong>UserWarning: findfont: Font family [‘sans-serif’] not found. Falling back to DejaVu Sans (prop.get_family(), self.defaultFamily[fontext]))</strong></p>

<p>you need to check whether matplotlib is “seeing” your custom font. In order to do so, we can run in our notebook the following two lines of code</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.font_manager</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">font_manager</span><span class="o">.</span><span class="n">findSystemFonts</span><span class="p">(</span><span class="n">fontpaths</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">fontext</span><span class="o">=</span><span class="s">'ttf'</span><span class="p">)</span>
</code></pre></div></div>

<p>If your font is not in the list, you need to copy your custom font in the system library</p>
<ul>
  <li><strong>~/Library/Fonts/</strong> in OS X</li>
  <li><strong>/usr/share/fonts/truetype</strong> in Linux</li>
</ul>

<p>and run again the commands from step 2 to 4.</p>

<p>You can see the complete code in this <a href="https://github.com/scentellegher/code_snippets/blob/master/matplotlib_font/Matplotlib_custom_font.ipynb">[notebook]</a></p>


      <div class="page-footer">
        <!-- <div class="page-share">
          <a href="https://twitter.com/intent/tweet?text=Add custom fonts to Matplotlib&url=http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a>
          <a href="https://facebook.com/sharer.php?u=http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>
          <a href="https://plus.google.com/share?url=http://localhost:4000/visualization/2018/05/02/custom-fonts-matplotlib.html" title="Share on Google+" rel="nofollow" target="_blank">Google+</a>
        </div> -->
        <div class="page-tag">
          
            <a href="/tags#custom fonts" class="tag">&#35; custom fonts</a>
          
            <a href="/tags#matplotlib" class="tag">&#35; matplotlib</a>
          
            <a href="/tags#visualization" class="tag">&#35; visualization</a>
          
        </div>
      </div>
      <section class="comment-area">
  <div class="comment-wrapper">
    
  </div>
</section> <!-- End Comment Area -->

    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>

  
    <!-- taken from https://www.osano.com/cookieconsent/documentation/javascript-api/ -->
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script>

  function deleteAllCookies() {
    var cookies = document.cookie.split(";");

    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i];
        var eqPos = cookie.indexOf("=");
        var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
        document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
    }
  }

  var loadGoogleAnalytics = function(){
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-92905730-1', 'auto');
    ga('send', 'pageview');
  };
  
  window.addEventListener("load", function(){
  	cookieconsent.initialise({
        type: 'info',
        theme: 'classic',
        revokable: true,
        palette: {
          "popup": { "background": "#252e39", "text": "#ffffff" },
          "button": { "background": "#56cbdb", "text": "#ffffff" },
        },
        content: content_ = {
          message: "This site uses cookies from Google to deliver its services, to personalise ads and to analyse traffic. Information about your use of this site is shared with Google. By using this site, you agree to its use of cookies. If you want to learn more or withdraw your consent please click on ",
                allow: 'Allow',
                link: "Read More",
                href: 'http://localhost:4000/cookie-policy.html',
                target: '_blank',
        },
        law: {
          regionalLaw: false,
      	},
  		location: true,
      
      onPopupOpen: function () {
        console.log("popup opened");
        console.log("#######"+window.location.pathname);
        // show shaded div
        if(window.location.pathname != '/cookie-policy.html'){
          var div = document.createElement('div');
          div.setAttribute("id", "shade-region");
          div.style.position = 'fixed';
          div.style.width = '100%';
          div.style.height = '100%';
          div.style.top = 0;
          div.style.opacity = 0.7;
          div.style.background = '#000';
          document.body.appendChild(div);
        }
      },

      onPopupClose: function () {
        if(window.location.pathname != '/cookie-policy.html'){
          var element = document.getElementById("shade-region");
          element.parentNode.removeChild(element);
          console.log("popup closed");
        }
      },
      
      onInitialise: function (status) {
        if(this.hasConsented()){
          console.log("Consented! Load analytics");
          loadGoogleAnalytics();
        }
      },

  		onStatusChange: function(status, chosenBefore) {
    			if(this.hasConsented()){
            console.log("Consented! Enable analytics");
            window['ga-disable-UA-92905730-1'] = false;
      			loadGoogleAnalytics();
      		} else {
            console.log("Denied! Disable and delete analytics");
            window['ga-disable-UA-92905730-1'] = true;
            deleteAllCookies()
      		}
  		}

	}); 
  });

</script>
  
  
</body>
</html>
